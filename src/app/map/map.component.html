<div style="margin-top:5%">
</div>
<div class="row">
  <div class="col-sm-5" style="height:750px; overflow:scroll">
    <div *ngFor="let place of places let i = index ">
      <div class="row featurette" *ngIf="i < 20" style=" margin-top:10px; border:ridge 1px;border-radius:5px;width: 702px;height: 242px;margin-left: 20px;">
        <div class="col-md-7 col-md-push-4">
          <h2 class="featurette-heading">{{place.result[0].name}}</h2>
          <p style="font-size: large;color: #73cf42;text-align: left;">{{place.result[0].formatted_address}}</p>
          <!-- <bar-rating [(rate)]="faRate" [max]="5" [theme]="'default'">dnjkg</bar-rating>
          ;cljkhvkjdbvjhbhjv -->
          <!-- <star-rating-comp [starType]="'svg'" [rating]="2" [labelText]="'My text!'"></star-rating-comp> -->


          <bar-rating class="col-md-7 col-md-push-7" *ngIf="!loggedIn()" [(rate)]="place.result[0].rating" [readOnly]="true" [theme]="'fontawesome-o'"
            style="margin-top: 0px;margin-bottom: 0px;">
          </bar-rating>

          <bar-rating class="col-md-7 col-md-push-7" *ngIf="loggedIn()" [rate]="place.result[0].rating" (rateChange)="setRating(place.result[0],$event)"
            [max]="5" [theme]="'fontawesome-o'" style="margin-top: 0px;margin-bottom: 0px;" ngDefaultControl></bar-rating>



          <div class="col-md-7 col-md-push-7" style="margin-top: 14px;margin-bottom: 21px;">
            <div class="container">

              <!-- *ngFor="let item of place.result[0].reviews let ii=index" -->
              <!-- Trigger the modal with a button -->
              <button type="button" (click)="openModal(place.result[0].reviews)" data-toggle="modal" data-target="#reviews" class="btn btn-info btn-lg">Open Reviews</button>

              <!-- Modal -->

              <div>
                <div>

                  <div class="modal fade" id="reviews" role="dialog">
                    <div class="modal-dialog">

                      <!-- Modal content-->
                      <div class="modal-content">
                        <div class="modal-header">
                          <button type="button" class="close" data-dismiss="modal">&times;</button>
                          <h4 class="modal-title">Reviews</h4>
                        </div>
                        <div class="modal-body">
                          <div *ngFor="let item of modalData">
                            <p style="color: black;text-align: center; z-index: 1; border-radius: 2; font-size: 20px; border: ridge;">{{item.text}}</p>
                            <br>
                          </div>
                        </div>
                        <div class="modal-footer">
                          <input type="text" id="review" [(ngModel)]="review">
                          <button (click)="postReviews(place)">Save</button>
                          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                      </div>

                    </div>

                  </div>
                </div>
              </div>

            </div>
          </div>


        </div>
        <div class="col-md-5 col-md-pull-7">
          <img style="width:200px;height:200px;margin-left: 0px;margin-top: 8px;" class="featurette-image img-responsive center-block"
            data-src="holder.js/500x500/auto" alt="500x500" src="https://maps.googleapis.com/maps/api/place/photo?maxwidth=600&photoreference={{place.result[0].photos[0].photo_reference}}&key=AIzaSyBV_05tOiURUudZjXaiWdCxcMjkvD__fRk"
            data-holder-rendered="true">
          <div class="venueScore positive" title="" style=" margin-top: 5px;border:ridge 1px;border-radius:5px;width: 27px;height: 24px;text-align: center;margin-left: 70px;background-color: #73CF42;background-color: #73CF42;">
            {{place.result[0].rating}}</div>



        </div>
      </div>
    </div>




  </div>
  <div class="col-sm-6" style="margin-top: 10px;">

    <agm-map style="height: 700px; width: 1030px;" [latitude]="33.7294" [longitude]="73.0931">
      <div *ngFor="let place of places ; let i = index">
        <agm-marker [latitude]="place.result[0].geometry.location.lat " [longitude]="place.result[0].geometry.location.lng "></agm-marker>
      </div>
    </agm-map>

    <div class="col-sm-1"></div>
  </div>